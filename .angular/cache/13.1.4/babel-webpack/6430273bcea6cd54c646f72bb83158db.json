{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Comprador } from '../modelos/comprador';\nlet CompradorDetailComponent = class CompradorDetailComponent {\n  constructor(route, compradorService, ordenadorService, location, messageService) {\n    this.route = route;\n    this.compradorService = compradorService;\n    this.ordenadorService = ordenadorService;\n    this.location = location;\n    this.messageService = messageService;\n    this.portatil = null;\n    this.sobremesa = null;\n  }\n\n  ngOnInit() {\n    this.getComprador();\n  }\n\n  save(_nombre_comprador) {\n    const doc = {\n      nombre_comprador: this.comprador._nombre_comprador,\n      presupuesto: this.comprador._presupuesto,\n      n_telefono: this.comprador._n_telefono\n    };\n    this.compradorService.updateComprador(doc).subscribe(() => this.goBack());\n  }\n\n  getComprador() {\n    let nombre_comprador = this.route.snapshot.paramMap.get('identif');\n    this.compradorService.getComprador(nombre_comprador).subscribe(s => {\n      let compradores = s;\n      this.comprador = new Comprador(s[0]._nombre_comprador, s[0]._presupuesto, s[0]._n_telefono, s[0]._ordenadores_comprados);\n      console.log(this.comprador.ordenadores_comprados);\n      console.log(s);\n    });\n  }\n\n  add(modelo, fecha_montaje, fecha_garantia, precio_del_pc, cantidad, RAM, disco_duro, refrig_liquida, comprador) {\n    const modeloV = modelo.trim();\n    const fecha_montajeV = new Date(fecha_montaje);\n    const fecha_garantiaV = new Date(fecha_garantia);\n    const precio_del_pcV = parseInt(precio_del_pc);\n    const cantidadV = parseInt(cantidad);\n    const RAMV = parseInt(RAM);\n    const disco_duroV = disco_duro;\n    const refrig_liquidaV = refrig_liquida;\n    const compradorV = comprador;\n\n    if (!modelo) {\n      return;\n    }\n\n    const newDoc = {\n      modelo: modeloV,\n      fecha_montaje: fecha_montajeV,\n      fecha_garantia: fecha_garantiaV,\n      precio_del_pc: precio_del_pcV,\n      cantidad: cantidadV,\n      RAM: RAMV,\n      disco_duro: disco_duroV,\n      refrig_liquida: refrig_liquidaV,\n      comprador: compradorV\n    }; //Decidir que servicio poner aqui\n\n    this.ordenadorService.nuevoOrdenadorPost(newDoc).subscribe(ordenador => {\n      const ordenadorTmp = newDoc;\n\n      this.comprador._ordenadores_comprados.push(ordenadorTmp);\n    });\n  }\n\n  goBack() {\n    this.location.back();\n  }\n\n};\nCompradorDetailComponent = __decorate([Component({\n  selector: 'app-comprador-detail',\n  templateUrl: './comprador-detail.component.html',\n  styleUrls: ['./comprador-detail.component.css']\n})], CompradorDetailComponent);\nexport { CompradorDetailComponent };","map":null,"metadata":{},"sourceType":"module"}